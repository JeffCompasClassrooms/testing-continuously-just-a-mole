name: Test Orchestrator

# Allows a “Run workflow” button in the Actions tab
on:
  workflow_dispatch: {}

jobs:
  run-unit-test:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repository
        uses: actions/checkout@v4
        with: 
          repository: JeffCompasClassrooms/testing-units-f25-just-a-mole
      - name: install pytest
        run: pip install pytest

      - name: run pytest
        run: pytest

  run-system-test:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repository
        uses: actions/checkout@v4
        with: 
          repository: JeffCompasClassrooms/testing-systems-just-a-mole

      - name: install pytest
        run: pip install pytest pytest-spec pytest-describe

      - name: run pytest
        run: pytest --spec
  run-behave:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repository
        uses: actions/checkout@v4
        with: 
          repository: JeffCompasClassrooms/testing-with-behave-just-a-mole
      
      - name: Install Python
        uses: actions/setup-python@v5
        with:
          python-version: "3.11"

      - name: Update Pip
        run: python -m pip install --upgrade pip

      - name: Install dependincies
        run: python -m pip install behave==1.2.6 behave-webdriver==0.3.1 selenium==3.141.0 urllib3==1.26.18 six==1.16.0

      - name: Run utahtech
        working-directory: ./utahtech
        run: behave